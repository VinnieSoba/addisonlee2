!function r(c,l,a){function s(t,e){if(!l[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=l[t]={exports:{}};c[t][0].call(o.exports,function(e){return s(c[t][1][e]||e)},o,o.exports,r,c,l,a)}return l[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.select=function(e){return document.querySelector(e)},n.selectAll=function(e){return document.querySelectorAll(e)},n.getId=function(e){return document.getElementById(e)},n.caps=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.regexEmail=function(e){return e.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/)};var i=n.each=function(e,t){for(var n=0,i=e.length;n<i;n++)t.call(n,e[n])};n.listen=function(t,e,n){return i(e.split(" "),function(e){return t.addEventListener(e,n,!1)})}},{}],2:[function(e,t,n){"use strict";var i,r=e("./components/functions");window.onload=(i={init:function(){i.enableForm(),i.setVoting(),i.sendForm(),i.setSharing(),i.useEnter(),window.onscroll=function(){return i.expandBoxes()}},enableForm:function(){(0,r.getId)("send").disabled=!0,(0,r.listen)((0,r.select)("input[type='checkbox']"),"change",function(e){return(0,r.getId)("send").disabled=!e.currentTarget.checked})},setVoting:function(){(0,r.each)((0,r.selectAll)(".bv-cta"),function(e){return(0,r.listen)(e,"touchstart click",function(e){var t=e.currentTarget,n=(t.classList.contains("bv-tile")?t.previousElementSibling.lastChild.nodeValue:t.previousElementSibling.children[0].lastChild.nodeValue).split(".")[1].trim();i.socialVote(n),i.sendtoGTM(n),i.domManipulation(e.currentTarget),i.animate(window.pageYOffset,(0,r.select)("footer").offsetTop,600)})})},domManipulation:function(e){(0,r.each)((0,r.selectAll)(".border"),function(e){return e.style.display="none"}),(0,r.select)(".wrapper").classList.add("voted"),(0,r.getId)(e.dataset.id).classList.add("selected"),(0,r.select)(".message").style.display="block"},sendtoGTM:function(e){dataLayer.push({event:"sos_vote",sos_selection:e})},socialVote:function(e){var t=(0,r.select)(".tweet").innerHTML.replace("CHOICE",e);(0,r.select)(".tweet").innerHTML=t},sendForm:function(){(0,r.listen)((0,r.getId)("send"),"touchstart click",function(){var e=(0,r.getId)("email");(0,r.regexEmail)(e)?((0,r.select)(".signup").classList.add("completed"),window.signup_email=e.value):(e.value="",e.className="error",e.placeholder="Invalid email address")})},useEnter:function(){(0,r.listen)((0,r.getId)("email"),"keyup",function(e){13===e.keyCode&&(0,r.getId)("send").click()})},expandBoxes:function(){(0,r.each)((0,r.selectAll)("section"),function(e){i.viewPort(e)&&e.lastElementChild.classList.add("expand")})},viewPort:function(e){var t=e.getBoundingClientRect(),n=t.height,i=Math.max(document.documentElement.clientHeight,window.innerHeight);return i>t.top+i-n},animate:function(t,n,i){var o=document.scrollingElement||document.documentElement;if(o){var r=(new Date).getTime(),c=setInterval(function(){var e=Math.min(1,((new Date).getTime()-r)/i);o.scrollTop=t+e*(n-t),1===e&&clearInterval(c)},25);o.scrollTop=t}},setSharing:function(){(0,r.each)((0,r.selectAll)(".social li"),function(e){var t,n,i,o=e.innerHTML.replace(/SBTITLE/gi,(t="og:title",n="property",i=null==i?"content":i,(0,r.select)("meta["+n+"='"+t+"']").getAttribute(i).replace(/ /gi,"%20")));o=o.replace(/SBLINK/gi,escape(window.location.href)),e.innerHTML=o})}}).init},{"./components/functions":1}]},{},[2]);